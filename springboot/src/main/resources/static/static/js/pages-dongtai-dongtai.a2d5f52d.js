(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-dongtai-dongtai"],{"2a84":function(t,e,o){"use strict";var n;o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",[o("v-uni-view",[o("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectImg()}}},[t._v("选择照片")]),o("v-uni-button",{attrs:{type:"warn"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadFile()}}},[t._v("文件上传")]),o("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.formSubmit.apply(void 0,arguments)}}},[o("v-uni-textarea",{staticStyle:{border:"1px solid gray",width:"99%"},attrs:{name:"title",placeholder:"请输入您想说的."}}),o("v-uni-button",{attrs:{"form-type":"submit",type:"primary"}},[t._v("发表动态(把数据保存到数据库)")]),t._l(t.selectedImg,(function(e,n){return o("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImg(n)}}},[o("v-uni-image",{staticStyle:{border:"1px solid gray",width:"99%"},attrs:{src:e}})],1)}))],2)],1)],1)},a=[]},"2c02":function(t,e,o){var n=o("ca39");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=o("4f06").default;i("59636b8e",n,!0,{sourceMap:!1,shadowMode:!1})},"4f70":function(t,e,o){"use strict";o.r(e);var n=o("a60d"),i=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a},"512d":function(t,e,o){"use strict";o.r(e);var n=o("2a84"),i=o("4f70");for(var a in i)"default"!==a&&function(t){o.d(e,t,(function(){return i[t]}))}(a);o("e774");var c,l=o("f0c5"),s=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"4ecae1e6",null,!1,n["a"],c);e["default"]=s.exports},a60d:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{selectedImg:["/static/demo/datapic/16.jpg","/static/demo/datapic/13.jpg","/static/demo/datapic/15.jpg"]}},methods:{formSubmit:function(){uni.showLoading({title:"正在发表",icon:"loading"}),uni.hideLoading(),uni.showToast({title:"发表动态成功"})},uploadFile:function(){var t=1;console.log("正在上传文件"),uni.showLoading({title:"正在上传文件",icon:"loading"});for(var e=0;e<this.selectedImg.length;e++){if(console.log("Flagz: ",t),0==t){console.log("跳出循环: ",t);break}uni.uploadFile({url:"api/DongtaiAction/uploadImg",filePath:this.selectedImg[e],name:"photo",success:function(e){if(console.log("Flag: ",t),console.log("上传结果",e),200==e.statusCode){var o=JSON.parse(e.data);if(0==o.code){var n=o.data;console.log("图片在SpringBoot项目的访问地址为:"+n),uni.showToast({title:"图片上传成功"})}else console.log("服务端出现问题"),uni.showToast({icon:"error",title:"服务端出现问题"}),t=0}else console.log("上传失败,连接不上服务端"),uni.showToast({icon:"error",title:"无法连接服务器"}),t=0},fail:function(e){console.log("上传结果",e),console.log("uni.uploadFile失败"),uni.showToast({icon:"error",title:"图片上传失败"}),t=0}})}},previewImg:function(t){var e=this;console.log("图片",e.selectedImg),console.log(t),console.log("xxx"),uni.previewImage({current:t,urls:e.selectedImg})},selectImg:function(){var t=this;uni.chooseImage({count:3,success:function(e){console.log(e),t.selectedImg=e.tempFilePaths,console.log(t.selectedImg)}})}}};e.default=n},ca39:function(t,e,o){var n=o("24fb");e=n(!1),e.push([t.i,".img[data-v-4ecae1e6]{\n\t/* display: flex; */\n\t/* justify-content: space-around; */\n\t/* width: 100%; */}",""]),t.exports=e},e774:function(t,e,o){"use strict";var n=o("2c02"),i=o.n(n);i.a}}]);